{"version":3,"sources":["webpack:///./templates/cardImage.hbs","webpack:///./js/refs.js","webpack:///./js/notification.js","webpack:///./js/apiService.js","webpack:///./js/update-images-makrup.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","searchForm","document","querySelector","galleryRef","loadMoreBtn","loadMoreSpinner","loadMoreLabel","notificationError","error","PNotify","text","delay","animateSpeed","defaults","styling","icons","searchQuery","page","fetchImages","url","this","fetch","then","response","json","hits","length","incrementPage","catch","resetPage","value","updateImagesMarkup","markup","cardImageTpl","refs","insertAdjacentHTML","addEventListener","event","preventDefault","form","currentTarget","apiService","query","elements","innerHTML","reset","disabled","textContent","classList","add","remove","window","scrollBy","top","innerHeight","behavior"],"mappings":"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","file":"main.8a792c30b932ef826b5b.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":14},\"end\":{\"line\":25,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":37},\"end\":{\"line\":25,\"column\":45}}}) : helper)))\n    + \"\\\" />\\n\\n    <div class=\\\"stats\\\">\\n        <p class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":12},\"end\":{\"line\":30,\"column\":21}}}) : helper)))\n    + \"\\n        </p>\\n        <p class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">visibility</i>\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":12},\"end\":{\"line\":34,\"column\":21}}}) : helper)))\n    + \"\\n        </p>\\n        <p class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">comment</i>\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":38,\"column\":12},\"end\":{\"line\":38,\"column\":24}}}) : helper)))\n    + \"\\n        </p>\\n        <p class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":42,\"column\":12},\"end\":{\"line\":42,\"column\":25}}}) : helper)))\n    + \"\\n        </p>\\n    </div>\\n</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":0},\"end\":{\"line\":46,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const searchForm = document.querySelector('#search-form');\nconst galleryRef = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('#js-button');\nconst loadMoreSpinner = document.querySelector('.spinner');\nconst loadMoreLabel = document.querySelector('.label');\n\nexport default {\n  searchForm,\n  galleryRef,\n  loadMoreBtn,\n  loadMoreSpinner,\n  loadMoreLabel,\n};\n","import PNotify from 'pnotify/dist/es/PNotify.js';\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons.js';\n// import '../../node_modules/pnotify/dist/PNotifyBrightTheme.css';\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\nimport '../../node_modules/material-design-icons/iconfont/material-icons.css';\nPNotify.defaults.styling = 'material';\nPNotify.defaults.icons = 'material';\n\n// PNotify.notice('Too many matches found. Please enter a more specific query!');\n\nexport default function notificationError(error) {\n  PNotify.error({\n    text: error,\n    delay: 3000,\n    animateSpeed: 'slow',\n  });\n}\n","import notificationError from './notification';\n\nconst apiKey = '19974977-7de7da89e9a7910ce59988326';\n\nexport default {\n  searchQuery: ' ',\n  page: 1,\n\n  fetchImages() {\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${apiKey}`;\n\n    return fetch(url)\n      .then(response => response.json())\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          return notificationError(\n            'Oops... No results were found for your request! Try again',\n          );\n        }\n\n        this.incrementPage();\n\n        return hits;\n      })\n      .catch(error => {\n        if (error === 404) {\n          return notificationError('Something went wrong. Try again.');\n        }\n      });\n  },\n\n  resetPage() {\n    this.page = 1;\n  },\n\n  incrementPage() {\n    this.page += 1;\n  },\n\n  get query() {\n    return this.searchQuery;\n  },\n\n  set query(value) {\n    this.searchQuery = value;\n  },\n};\n","import cardImageTpl from '../templates/cardImage.hbs';\nimport refs from './refs.js';\n\nfunction updateImagesMarkup(hits) {\n  const markup = cardImageTpl(hits);\n  refs.galleryRef.insertAdjacentHTML('beforeend', markup);\n}\n\nexport default updateImagesMarkup;\n","import './styles.css';\nimport refs from './js/refs';\nimport apiService from './js/apiService';\nimport updateImagesMarkup from './js/update-images-makrup';\n\nrefs.searchForm.addEventListener('submit', searchSubmitHandler);\nrefs.loadMoreBtn.addEventListener('click', fetchImages);\n\nconst loadMoreBtn = {\n  enable() {\n    refs.loadMoreBtn.disabled = false;\n    refs.loadMoreLabel.textContent = 'Load more';\n    refs.loadMoreSpinner.classList.add('is-hidden');\n  },\n\n  disable() {\n    refs.loadMoreBtn.disabled = true;\n    refs.loadMoreLabel.textContent = 'Loading...';\n    refs.loadMoreSpinner.classList.remove('is-hidden');\n  },\n\n  show() {\n    refs.loadMoreBtn.classList.remove('is-hidden');\n  },\n};\n\nfunction searchSubmitHandler(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  apiService.query = form.elements.query.value;\n\n  clearImagesContainer();\n  apiService.resetPage();\n  fetchImages();\n  form.reset();\n}\n\nfunction fetchImages() {\n  loadMoreBtn.disable();\n  apiService.fetchImages().then(hits => {\n    updateImagesMarkup(hits);\n    loadMoreBtn.enable();\n    loadMoreBtn.show();\n    if (apiService.page > 2) {\n      window.scrollBy({\n        top: window.innerHeight,\n        behavior: 'smooth',\n      });\n    }\n  });\n}\n\nfunction clearImagesContainer() {\n  refs.galleryRef.innerHTML = '';\n}\n"],"sourceRoot":""}